import{t as v,a as o,c as Se}from"../chunks/Bm7YDail.js";import"../chunks/Cp0t8ydx.js";import{c as s,r,t as h,p as de,s as i,g as e,a as le,f as j,l as fe,b as M,m as W,a4 as _e,e as Ee,n as Ve,d as oe,a7 as Ge}from"../chunks/DwP7UOR7.js";import{s as y,e as ge}from"../chunks/DSFJq4oy.js";import{p as b,i as f}from"../chunks/DCRH5Z1i.js";import{e as xe,i as he}from"../chunks/-4v8aoCK.js";import{s as $,r as Ke,b as We,p as pe,a as Xe}from"../chunks/CGzTdwYZ.js";import{i as ve}from"../chunks/C1itxWee.js";import{s as Ze,a as $e}from"../chunks/C3LHyfkz.js";import{o as et}from"../chunks/CPg3bG_u.js";import{p as tt}from"../chunks/CHjSzMbL.js";import{g as Ce}from"../chunks/CxGvuVDF.js";import{B as rt,A as at}from"../chunks/CFNzRvmK.js";import{L as st}from"../chunks/D1v2Wa_-.js";import{E as nt}from"../chunks/CW8wjXXj.js";var it=v('<h4 class="text-md font-medium text-gray-900 mb-2"> </h4>');function be(O,n){let a=b(n,"index",8);var _=it(),P=s(_);r(_),h(()=>y(P,`Question ${a()+1}`)),o(O,_)}var ot=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),dt=v('<input type="radio" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),lt=v('<div class="flex items-center"><!> <label class="ml-3 text-gray-700"> </label></div>'),vt=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),ct=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),ut=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),mt=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),_t=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <div class="space-y-2"></div> <!> <!></div>');function pt(O,n){de(n,!1);let a=b(n,"item",8),_=b(n,"index",8),P=b(n,"disabled",8,!1),T=b(n,"showAnswer",8,!1),l=b(n,"showInstructorInfo",8,!1),I=b(n,"onAnswerChange",8,void 0),U=b(n,"printMode",8,!1);function D(g){const w=g.target;I()&&I()(w.value)}ve();var E=_t(),L=s(E);be(L,{get index(){return _()}});var Q=i(L,2),J=s(Q,!0);r(Q);var Y=i(Q,2);xe(Y,5,()=>typeof a().options=="string"?JSON.parse(a().options):a().options,he,(g,w,m)=>{var x=lt(),C=s(x);{var B=p=>{var t=ot();o(p,t)},R=p=>{var t=dt();Ke(t),h(()=>{$(t,"id",`question-${_()}-option-${m}-${a().id}`),$(t,"name",`question-${_()}-${a().id}`),We(t,e(w)),t.disabled=P()}),ge("change",t,D),o(p,t)};f(C,p=>{U()?p(B):p(R,!1)})}var d=i(C,2),c=s(d,!0);r(d),r(x),h(()=>{$(d,"for",U()?void 0:`question-${_()}-option-${m}-${a().id}`),y(c,e(w))}),o(g,x)}),r(Y);var H=i(Y,2);{var G=g=>{var w=vt(),m=i(s(w),2),x=s(m,!0);r(m),r(w),h(()=>y(x,a().user_answer||"Not answered")),o(g,w)};f(H,g=>{T()&&g(G)})}var z=i(H,2);{var N=g=>{var w=mt(),m=i(s(w),2),x=s(m,!0);r(m);var C=i(m,2);{var B=c=>{var p=ct(),t=i(j(p),2),u=s(t,!0);r(t),h(()=>y(u,a().explanation)),o(c,p)};f(C,c=>{a().explanation&&c(B)})}var R=i(C,2);{var d=c=>{var p=ut(),t=i(j(p),2),u=s(t,!0);r(t),h(()=>y(u,a().hints_used)),o(c,p)};f(R,c=>{a().hints_used&&c(d)})}r(w),h(()=>y(x,a().correct_answer)),o(g,w)};f(z,g=>{l()&&g(N)})}r(E),h(()=>y(J,a().question_text)),o(O,E),le()}var ft=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),gt=v('<input type="radio" value="true" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),xt=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),ht=v('<input type="radio" value="false" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),bt=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),wt=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),yt=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),At=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),It=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <div class="space-y-2"><div class="flex items-center"><!> <label class="ml-3 text-gray-700">True</label></div> <div class="flex items-center"><!> <label class="ml-3 text-gray-700">False</label></div></div> <!> <!></div>');function Ct(O,n){de(n,!1);let a=b(n,"item",8),_=b(n,"index",8),P=b(n,"disabled",8,!1),T=b(n,"showAnswer",8,!1),l=b(n,"showInstructorInfo",8,!1),I=b(n,"onAnswerChange",8,void 0),U=b(n,"printMode",8,!1);function D(t){const u=t.target;I()&&I()(u.value)}ve();var E=It(),L=s(E);be(L,{get index(){return _()}});var Q=i(L,2),J=s(Q,!0);r(Q);var Y=i(Q,2),H=s(Y),G=s(H);{var z=t=>{var u=ft();o(t,u)},N=t=>{var u=gt();h(()=>{$(u,"id",`question-${_()}-true-${a().id}`),$(u,"name",`question-${_()}-${a().id}`),u.disabled=P()}),ge("change",u,D),o(t,u)};f(G,t=>{U()?t(z):t(N,!1)})}var g=i(G,2);r(H);var w=i(H,2),m=s(w);{var x=t=>{var u=xt();o(t,u)},C=t=>{var u=ht();h(()=>{$(u,"id",`question-${_()}-false-${a().id}`),$(u,"name",`question-${_()}-${a().id}`),u.disabled=P()}),ge("change",u,D),o(t,u)};f(m,t=>{U()?t(x):t(C,!1)})}var B=i(m,2);r(w),r(Y);var R=i(Y,2);{var d=t=>{var u=bt(),S=i(s(u),2),X=s(S,!0);r(S),r(u),h(()=>y(X,a().user_answer||"Not answered")),o(t,u)};f(R,t=>{T()&&t(d)})}var c=i(R,2);{var p=t=>{var u=At(),S=i(s(u),2),X=s(S,!0);r(S);var se=i(S,2);{var ce=V=>{var k=wt(),A=i(j(k),2),Z=s(A,!0);r(A),h(()=>y(Z,a().explanation)),o(V,k)};f(se,V=>{a().explanation&&V(ce)})}var ee=i(se,2);{var te=V=>{var k=yt(),A=i(j(k),2),Z=s(A,!0);r(A),h(()=>y(Z,a().hints_used)),o(V,k)};f(ee,V=>{a().hints_used&&V(te)})}r(u),h(()=>y(X,a().correct_answer)),o(t,u)};f(c,t=>{l()&&t(p)})}r(E),h(()=>{y(J,a().question_text),$(g,"for",U()?void 0:`question-${_()}-true-${a().id}`),$(B,"for",U()?void 0:`question-${_()}-false-${a().id}`)}),o(O,E),le()}var qt=v('<div class="h-32 border border-gray-300 rounded-md"></div>'),St=v('<textarea class="w-full h-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Type your answer here..."></textarea>'),Et=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),Mt=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),kt=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),Ft=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),Tt=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <!> <!> <!></div>');function Ut(O,n){de(n,!1);let a=b(n,"item",8),_=b(n,"index",8),P=b(n,"disabled",8,!1),T=b(n,"showAnswer",8,!1),l=b(n,"showInstructorInfo",8,!1),I=b(n,"onAnswerChange",8,void 0),U=b(n,"printMode",8,!1);function D(m){const x=m.target;I()&&I()(x.value)}ve();var E=Tt(),L=s(E);be(L,{get index(){return _()}});var Q=i(L,2),J=s(Q,!0);r(Q);var Y=i(Q,2);{var H=m=>{var x=qt();o(m,x)},G=m=>{var x=St();h(()=>{$(x,"id",`question-${_()}-${a().id}`),x.disabled=P()}),ge("input",x,D),o(m,x)};f(Y,m=>{U()?m(H):m(G,!1)})}var z=i(Y,2);{var N=m=>{var x=Et(),C=i(s(x),2),B=s(C,!0);r(C),r(x),h(()=>y(B,a().user_answer||"Not answered")),o(m,x)};f(z,m=>{T()&&m(N)})}var g=i(z,2);{var w=m=>{var x=Ft(),C=i(s(x),2),B=s(C,!0);r(C);var R=i(C,2);{var d=t=>{var u=Mt(),S=i(j(u),2),X=s(S,!0);r(S),h(()=>y(X,a().explanation)),o(t,u)};f(R,t=>{a().explanation&&t(d)})}var c=i(R,2);{var p=t=>{var u=kt(),S=i(j(u),2),X=s(S,!0);r(S),h(()=>y(X,a().hints_used)),o(t,u)};f(c,t=>{a().hints_used&&t(p)})}r(x),h(()=>y(B,a().correct_answer)),o(m,x)};f(g,m=>{l()&&m(w)})}r(E),h(()=>y(J,a().question_text)),o(O,E),le()}var Dt=v('<div class="inline-block w-32 border-b border-gray-400 mx-1"></div>'),Nt=v('<input type="text" class="inline-block w-32 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">'),Pt=v(" <!>",1),Lt=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),Qt=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),Ht=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),Rt=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),Yt=v('<div class="border border-gray-200 rounded-lg p-4"><!> <div class="text-gray-600 mb-4"></div> <!> <!></div>');function Bt(O,n){de(n,!1);const a=W();let _=b(n,"item",8),P=b(n,"index",8),T=b(n,"disabled",8,!1),l=b(n,"showAnswer",8,!1),I=b(n,"showInstructorInfo",8,!1),U=b(n,"onAnswerChange",8,void 0),D=b(n,"printMode",8,!1);function E(N){const g=N.target;U()&&U()(g.value)}fe(()=>_e(_()),()=>{M(a,_().question_text.split("_____"))}),Ee(),ve();var L=Yt(),Q=s(L);be(Q,{get index(){return P()}});var J=i(Q,2);xe(J,5,()=>e(a),he,(N,g,w)=>{Ve();var m=Pt(),x=j(m),C=i(x);{var B=R=>{var d=Se(),c=j(d);{var p=u=>{var S=Dt();o(u,S)},t=u=>{var S=Nt();h(()=>{$(S,"id",`question-${P()}-blank-${w}-${_().id}`),S.disabled=T()}),ge("input",S,E),o(u,S)};f(c,u=>{D()?u(p):u(t,!1)})}o(R,d)};f(C,R=>{w<e(a).length-1&&R(B)})}h(()=>y(x,`${e(g)??""} `)),o(N,m)}),r(J);var Y=i(J,2);{var H=N=>{var g=Lt(),w=i(s(g),2),m=s(w,!0);r(w),r(g),h(()=>y(m,_().user_answer||"Not answered")),o(N,g)};f(Y,N=>{l()&&N(H)})}var G=i(Y,2);{var z=N=>{var g=Rt(),w=i(s(g),2),m=s(w,!0);r(w);var x=i(w,2);{var C=d=>{var c=Qt(),p=i(j(c),2),t=s(p,!0);r(p),h(()=>y(t,_().explanation)),o(d,c)};f(x,d=>{_().explanation&&d(C)})}var B=i(x,2);{var R=d=>{var c=Ht(),p=i(j(c),2),t=s(p,!0);r(p),h(()=>y(t,_().hints_used)),o(d,c)};f(B,d=>{_().hints_used&&d(R)})}r(g),h(()=>y(m,_().correct_answer)),o(N,g)};f(G,N=>{I()&&N(z)})}r(L),o(O,L),le()}var Ot=v('<div class="border border-red-200 rounded-lg p-4 bg-red-50"><p class="text-red-600"> </p></div>');function Ue(O,n){de(n,!1);const a=W(),_=W(),P=W();let T=b(n,"item",8),l=b(n,"index",8),I=b(n,"viewType",8,"learner"),U=b(n,"disabled",8,!1),D=b(n,"onAnswerChange",8,void 0),E=b(n,"printMode",8,!1);fe(()=>_e(I()),()=>{M(a,I()==="answered"||I()==="instructor")}),fe(()=>_e(I()),()=>{M(_,I()==="instructor")}),fe(()=>(_e(U()),_e(I())),()=>{M(P,U()||I()!=="learner")}),Ee(),ve();var L=Se(),Q=j(L);{var J=H=>{pt(H,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return E()}})},Y=(H,G)=>{{var z=g=>{Ct(g,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return E()}})},N=(g,w)=>{{var m=C=>{Ut(C,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return E()}})},x=(C,B)=>{{var R=c=>{Bt(c,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return E()}})},d=c=>{var p=Ot(),t=s(p),u=s(t);r(t),r(p),h(()=>y(u,`Unsupported question type: ${T().question_type??""}, id: ${T().id??""}`)),o(c,p)};f(C,c=>{T().question_type==="fill_in_blank"?c(R):c(d,!1)},B)}};f(g,C=>{T().question_type==="short_answer"?C(m):C(x,!1)},w)}};f(H,g=>{T().question_type==="true_false"?g(z):g(N,!1)},G)}};f(Q,H=>{T().question_type==="multiple_choice"?H(J):H(Y,!1)})}o(O,L),le()}class jt{async ensureAuth(){if(!pe.authStore.isValid)throw new Error("You must be logged in to access practice sessions")}async loadSession(n){try{await this.ensureAuth();const a=await pe.collection("practice_sessions").getOne(n,{expand:"learner,learner.user,practice_topic,practice_items",fields:"id,name,status,assigned_at,completed_at,generation_prompt,learner,practice_topic,practice_items,expand"});if(!a)throw new Error("Session not found");return a}catch(a){throw console.error("Failed to load session:",a),a instanceof Error?a:new Error("Failed to load practice session")}}async checkUserRole(){await this.ensureAuth();try{const n=pe.authStore.model;if(!n)throw new Error("User not authenticated");try{return!!await pe.collection("instructors").getFirstListItem(`user="${n.id}"`)}catch{return!1}}catch(n){return console.error("Failed to check user role:",n),!1}}parsePracticeItems(n){var a;if((a=n.expand)!=null&&a.practice_items)return n.expand.practice_items;if(n.practice_items)try{return JSON.parse(n.practice_items)}catch(_){return console.error("Error parsing practice items:",_),[]}return[]}}const qe=new jt;var Jt=v('<div class="flex justify-center items-center h-64"><!></div>'),zt=v('<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded"> </span>'),Vt=v('<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded"> </span>'),Gt=v('<div class="mb-4"><h3 class="text-sm font-medium text-gray-700 mb-2">Learner:</h3> <p class="text-gray-600"> </p></div>'),Kt=v('<div class="mb-4"><h3 class="text-sm font-medium text-gray-700 mb-2">Topic:</h3> <p class="text-gray-600"> </p></div>'),Wt=v('<div class="question-container svelte-6swr63"><!></div>'),Xt=v('<div class="mt-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Practice Items</h3> <div class="space-y-6"></div></div>'),Zt=v('<div class="bg-gray-50 border border-gray-200 p-4 rounded-md"><p class="text-gray-600">No practice items available.</p></div>'),$t=v('<div class="bg-white shadow-md rounded-lg p-6 mb-6"><h2 class="text-xl font-semibold text-gray-900 mb-2"> </h2> <div class="flex flex-wrap gap-2 mb-4"><span> </span> <!> <!></div> <!> <!> <!></div>'),er=v('<div class="container mx-auto px-4 py-8 no-print"><div class="flex justify-between items-center mb-6"><div><!></div> <!></div> <!></div>'),tr=v('<h2 class="text-xl mb-1"> </h2>'),rr=v('<p class="text-lg"> </p>'),ar=v('<div class="print-item question-container svelte-6swr63"><!></div>'),sr=v("<p>No practice items available.</p>"),nr=v('<div class="print-header svelte-6swr63"><h1 class="text-3xl font-bold mb-2"> </h1> <!> <!></div> <!>',1),ir=v('<!> <div class="print-only print-container"><!></div>',1);function yr(O,n){de(n,!1);const[a,_]=Ze(),P=()=>$e(tt,"$page",a),T=W();let l=W(null),I=W([]),U=W(!0),D=W(null),E=W(!1),L=W(!1),Q=W([]);et(async()=>{try{const d=P().params.id;d?(await Y(d),await J(),g()):(M(D,"Invalid session ID"),M(U,!1))}catch(d){console.error("Error in onMount:",d),M(D,d instanceof Error?d.message:"An unexpected error occurred"),M(U,!1)}});async function J(){try{M(E,await qe.checkUserRole())}catch(d){console.error("Failed to check user role:",d),M(E,!1)}}async function Y(d){try{if(M(U,!0),M(D,null),!d)throw new Error("Session ID is required");if(M(l,await qe.loadSession(d)),!e(l))throw new Error("Session not found");M(I,qe.parsePracticeItems(e(l)))}catch(c){console.error("Failed to load session:",c),M(D,c instanceof Error?c.message:"Failed to load practice session"),M(l,null),M(I,[])}finally{M(U,!1)}}function H(){e(l)&&Ce(`/practice-sessions/edit/${e(l).id}`)}async function G(){var d;if(e(l)&&confirm("Are you sure you want to delete this practice session?"))try{await pe.collection("practice_sessions").delete(e(l).id),(d=e(l).expand)!=null&&d.practice_topic?Ce(`/practice-topics/${e(l).expand.practice_topic.id}`):Ce("/dashboard")}catch(c){console.error("Failed to delete practice session:",c),M(D,"Failed to delete practice session: "+(c instanceof Error?c.message:String(c)))}}function z(d,c){e(I)[d]&&Ge(I,e(I)[d].user_answer=c)}function N(){M(L,!0),setTimeout(()=>{window.print(),setTimeout(()=>{M(L,!1)},500)},200)}function g(){var p;if(!e(l))return;const d=[{label:"Topics",href:"/practice-topics",icon:"topic"}];(p=e(l).expand)!=null&&p.practice_topic&&d.push({label:e(l).expand.practice_topic.name,href:`/practice-topics/${e(l).expand.practice_topic.id}`,icon:"topic"});const c=e(l).name||"Practice Session";d.push({label:c,icon:"session"}),M(Q,d)}fe(()=>{},()=>{M(T,[{id:"print",label:"Print",icon:"print",variant:"primary",onClick:N},{id:"edit",label:"Edit",icon:"edit",variant:"secondary",onClick:H},{id:"delete",label:"Delete",icon:"delete",variant:"danger",onClick:G}])}),Ee(),ve();var w=ir(),m=j(w);{var x=d=>{var c=er(),p=s(c),t=s(p),u=s(t);rt(u,{get items(){return e(Q)}}),r(t);var S=i(t,2);at(S,{get actions(){return e(T)}}),r(p);var X=i(p,2);{var se=ee=>{var te=Jt(),V=s(te);st(V,{size:"md",color:"primary"}),r(te),o(ee,te)},ce=(ee,te)=>{{var V=A=>{nt(A,{get message(){return e(D)}})},k=(A,Z)=>{{var we=ue=>{var ne=$t(),ae=s(ne),ye=s(ae,!0);r(ae);var me=i(ae,2),ie=s(me),Ae=s(ie,!0);r(ie);var Me=i(ie,2);{var De=F=>{var q=zt(),K=s(q);r(q),h(re=>y(K,`Assigned: ${re??""}`),[()=>new Date(e(l).assigned_at).toLocaleDateString()],oe),o(F,q)};f(Me,F=>{e(l).assigned_at&&F(De)})}var Ne=i(Me,2);{var Pe=F=>{var q=Vt(),K=s(q);r(q),h(re=>y(K,`Completed: ${re??""}`),[()=>new Date(e(l).completed_at).toLocaleDateString()],oe),o(F,q)};f(Ne,F=>{e(l).completed_at&&F(Pe)})}r(me);var ke=i(me,2);{var Le=F=>{var q=Gt(),K=i(s(q),2),re=s(K,!0);r(K),r(q),h(()=>y(re,e(l).expand.learner.name)),o(F,q)};f(ke,F=>{var q;(q=e(l).expand)!=null&&q.learner&&F(Le)})}var Fe=i(ke,2);{var Qe=F=>{var q=Kt(),K=i(s(q),2),re=s(K,!0);r(K),r(q),h(()=>y(re,e(l).expand.practice_topic.name)),o(F,q)};f(Fe,F=>{var q;(q=e(l).expand)!=null&&q.practice_topic&&F(Qe)})}var He=i(Fe,2);{var Re=F=>{var q=Xt(),K=i(s(q),2);xe(K,5,()=>e(I),he,(re,Be,Te)=>{var Ie=Wt(),Oe=s(Ie);const je=oe(()=>e(l).status==="Completed"?e(E)?"instructor":"answered":"learner"),Je=oe(()=>e(l).status==="Completed");Ue(Oe,{get item(){return e(Be)},index:Te,get viewType(){return e(je)},get disabled(){return e(Je)},onAnswerChange:ze=>z(Te,ze)}),r(Ie),o(re,Ie)}),r(K),r(q),o(F,q)},Ye=F=>{var q=Zt();o(F,q)};f(He,F=>{e(I).length>0?F(Re):F(Ye,!1)})}r(ne),h(()=>{y(ye,e(l).name||"Unnamed Practice"),Xe(ie,1,`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                    ${e(l).status==="Completed"?"bg-green-100 text-green-800":e(l).status==="InProgress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,"svelte-6swr63"),y(Ae,e(l).status)}),o(ue,ne)};f(A,ue=>{e(l)&&ue(we)},Z)}};f(ee,A=>{e(D)?A(V):A(k,!1)},te)}};f(X,ee=>{e(U)?ee(se):ee(ce,!1)})}r(c),o(d,c)};f(m,d=>{e(L)||d(x)})}var C=i(m,2),B=s(C);{var R=d=>{var c=nr(),p=j(c),t=s(p),u=s(t,!0);r(t);var S=i(t,2);{var X=k=>{var A=tr(),Z=s(A);r(A),h(()=>y(Z,`Topic: ${e(l).expand.practice_topic.name??""}`)),o(k,A)};f(S,k=>{var A;(A=e(l).expand)!=null&&A.practice_topic&&k(X)})}var se=i(S,2);{var ce=k=>{var A=rr(),Z=s(A);r(A),h(()=>y(Z,`Learner: ${e(l).expand.learner.name??""}`)),o(k,A)};f(se,k=>{var A;(A=e(l).expand)!=null&&A.learner&&k(ce)})}r(p);var ee=i(p,2);{var te=k=>{var A=Se(),Z=j(A);xe(Z,1,()=>e(I),he,(we,ue,ne)=>{var ae=ar(),ye=s(ae);const me=oe(()=>e(l).status==="Completed"?e(E)?"instructor":"answered":"learner"),ie=oe(()=>e(l).status==="Completed");Ue(ye,{get item(){return e(ue)},index:ne,printMode:!0,get viewType(){return e(me)},get disabled(){return e(ie)},onAnswerChange:Ae=>z(ne,Ae)}),r(ae),o(we,ae)}),o(k,A)},V=k=>{var A=sr();o(k,A)};f(ee,k=>{e(I).length>0?k(te):k(V,!1)})}h(()=>y(u,e(l).name||"Practice Session")),o(d,c)};f(B,d=>{e(l)&&d(R)})}r(C),o(O,w),le(),_()}export{yr as component};
//# sourceMappingURL=9.B7UALW4i.js.map

import{t as b,a as g}from"../chunks/Budn9l7p.js";import"../chunks/C5lklyGm.js";import{p as z,l as G,e as H,a as K,g as a,m,c,s as k,b as r,r as l,t as L}from"../chunks/Dy_2QLcd.js";import{s as Q}from"../chunks/HzhFnYKD.js";import{i as w}from"../chunks/CSRWkSd7.js";import{i as R}from"../chunks/Bd0QBR9D.js";import{s as X,a as Y}from"../chunks/CbMnyNtw.js";import{o as Z}from"../chunks/CeJAMhHV.js";import{p as tt}from"../chunks/DtAyR18x.js";import{g as $}from"../chunks/BHgSklzR.js";import{p as et}from"../chunks/3tUVfVXT.js";import{P as at}from"../chunks/cvu7_rFd.js";import{B as rt,A as ot}from"../chunks/Dl4L_VQ5.js";var it=b('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div></div>'),st=b('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline"> </span></div>'),ct=b('<div class="w-full"><!></div>'),lt=b('<div class="container mx-auto px-4 py-8 max-w-7xl"><div class="flex justify-between items-center mb-6"><div><!></div> <!></div> <!></div>');function Tt(I,A){z(A,!1);const[F,j]=X(),C=()=>Y(tt,"$page",F),B=m();let o=m(null),v=m(!0),p=m(null),_=m([]);Z(async()=>{const t=C().params.id;if(!t){r(p,"No topic ID provided"),r(v,!1);return}await D(t),N()});async function D(t){try{r(v,!0),r(p,null);const e=await et.collection("practice_topics").getOne(t);if(e.tags){const i=e.tags;if(typeof i=="string")try{i.trim().startsWith("[")?e.tags=JSON.parse(i):e.tags=i.split(",").map(n=>n.trim()).filter(Boolean)}catch(n){console.error("Error parsing tags:",n),e.tags=[]}}else e.tags=[];r(o,e)}catch(e){console.error("Failed to load topic:",e),r(p,"Failed to load practice topic")}finally{r(v,!1)}}function N(){if(!a(o)){r(_,[{label:"Topics",href:"/practice-topics",icon:"topic"},{label:"Edit Topic",icon:"edit"}]);return}r(_,[{label:"Topics",href:"/practice-topics",icon:"topic"},{label:a(o).name,href:`/practice-topics/${a(o).id}`,icon:"topic"},{label:`Edit ${a(o).name}`,icon:"edit"}])}function O(t){$("/practice-topics")}function P(t){$("/practice-topics")}function E(){$("/practice-topics")}G(()=>{},()=>{r(B,[{id:"back",label:"Back",icon:"back",variant:"secondary",onClick:E}])}),H(),R();var y=lt(),h=c(y),x=c(h),J=c(x);rt(J,{get items(){return a(_)}}),l(x);var M=k(x,2);ot(M,{get actions(){return a(B)}}),l(h);var S=k(h,2);{var U=t=>{var e=it();g(t,e)},V=(t,e)=>{{var i=s=>{var d=st(),u=k(c(d),2),f=c(u,!0);l(u),l(d),L(()=>Q(f,a(p))),g(s,d)},n=(s,d)=>{{var u=f=>{var T=ct(),W=c(T);at(W,{get topic(){return a(o)},$$events:{update:({detail:q})=>O(),delete:({detail:q})=>P(),cancel:E}}),l(T),g(f,T)};w(s,f=>{a(o)&&f(u)},d)}};w(t,s=>{a(p)?s(i):s(n,!1)},e)}};w(S,t=>{a(v)?t(U):t(V,!1)})}l(y),g(I,y),K(),j()}export{Tt as component};
//# sourceMappingURL=14.CexlZGto.js.map

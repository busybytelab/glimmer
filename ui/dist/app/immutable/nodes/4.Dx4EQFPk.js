import{d as D,e as P,t as j,a as T,n as Y,b as q}from"../chunks/Budn9l7p.js";import"../chunks/C5lklyGm.js";import{t as A,k as $,o as B,E as G,av as J,y as O,R as K,aw as Q,ax as W,w as X,T as C,c as a,r,s as h,p as Z,a as ee,b as k,m as E,g as z}from"../chunks/Dy_2QLcd.js";import{i as te}from"../chunks/Bd0QBR9D.js";import{s as F,a as I}from"../chunks/CbMnyNtw.js";import{e as V,u as se}from"../chunks/BsBrNaBX.js";import{o as ae}from"../chunks/CeJAMhHV.js";import{i as N}from"../chunks/CSRWkSd7.js";import{p}from"../chunks/DOVCkyMW.js";import{E as re}from"../chunks/CsQCYHqI.js";import{s as U}from"../chunks/HzhFnYKD.js";function ie(f,i,d=!1,v=!1,u=!1){var c=f,o="";A(()=>{var n=G;if(o===(o=i()??"")){$&&B();return}if(n.nodes_start!==null&&(J(n.nodes_start,n.nodes_end),n.nodes_start=n.nodes_end=null),o!==""){if($){O.data;for(var t=B(),l=t;t!==null&&(t.nodeType!==8||t.data!=="");)l=t,t=K(t);if(t===null)throw Q(),W;D(O,l),c=X(t);return}var e=o+"";d?e=`<svg>${e}</svg>`:v&&(e=`<math>${e}</math>`);var s=P(e);if((d||v)&&(s=C(s)),D(C(s),s.lastChild),d||v)for(;C(s);)c.before(C(s));else c.before(s)}})}var oe=Y('<svg class="animate-spin h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>'),ne=j('<div class="bg-white overflow-hidden shadow rounded-lg"><div class="p-5"><div class="flex items-center"><div class="flex-shrink-0"><svg class="h-6 w-6 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg></div> <div class="ml-5 w-0 flex-1"><dl><dt class="text-sm font-medium text-gray-500 truncate"> </dt> <dd class="flex items-baseline"><div class="text-2xl font-semibold text-gray-900"><!></div></dd></dl></div></div></div></div>');function R(f,i){let d=p(i,"title",8),v=p(i,"value",8),u=p(i,"isLoading",8,!1),c=p(i,"icon",8);var o=ne(),n=a(o),t=a(n),l=a(t),e=a(l),s=a(e);ie(s,c,!0),r(e),r(l);var g=h(l,2),x=a(g),_=a(x),S=a(_,!0);r(_);var w=h(_,2),y=a(w),H=a(y);{var L=m=>{var M=oe();T(m,M)},b=m=>{var M=q();A(()=>U(M,v())),T(m,M)};N(H,m=>{u()?m(L):m(b,!1)})}r(y),r(w),r(x),r(g),r(t),r(n),r(o),A(()=>U(S,d())),T(f,o)}var le=j('<div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 mt-4"><!></div>'),ce=j('<div class="py-6"><div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8"><h1 class="text-2xl font-semibold text-gray-900">Dashboard</h1></div> <!> <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8"><div class="py-4"><div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"><!> <!> <!></div></div></div></div>');function de(f,i){const[d,v]=F(),u=()=>I(V,"$error",d);let c=p(i,"activeLearners",8),o=p(i,"practiceTopics",8),n=p(i,"completedSessions",8),t=p(i,"isLoading",8,!1);const l={learners:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />',topics:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />',sessions:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />'};var e=ce(),s=h(a(e),2);{var g=L=>{var b=le(),m=a(b);re(m,{get message(){return u()}}),r(b),T(L,b)};N(s,L=>{u()&&L(g)})}var x=h(s,2),_=a(x),S=a(_),w=a(S);R(w,{title:"Active Learners",get value(){return c()},get isLoading(){return t()},get icon(){return l.learners}});var y=h(w,2);R(y,{title:"Practice Topics",get value(){return o()},get isLoading(){return t()},get icon(){return l.topics}});var H=h(y,2);R(H,{title:"Completed Sessions",get value(){return n()},get isLoading(){return t()},get icon(){return l.sessions}}),r(S),r(_),r(x),r(e),T(f,e),v()}function Le(f,i){Z(i,!1);const[d,v]=F(),u=()=>I(se,"$user",d);let c=E(0),o=E(0),n=E(0),t=E(!0);ae(async()=>{await l()});async function l(){k(t,!0),V.set(null);try{const e=u();if(!e)throw new Error("User not found");let s={activeLearners:0,practiceTopics:0,completedSessions:0};"account"in e?(console.log(e),s={activeLearners:0,practiceTopics:0,completedSessions:0}):(console.log(e),s={activeLearners:1,practiceTopics:0,completedSessions:0}),k(c,s.activeLearners),k(o,s.practiceTopics),k(n,s.completedSessions)}catch(e){console.error("Error fetching dashboard stats:",e),V.set(e instanceof Error?e.message:"Failed to fetch dashboard stats")}finally{k(t,!1)}}te(),de(f,{get activeLearners(){return z(c)},get practiceTopics(){return z(o)},get completedSessions(){return z(n)},get isLoading(){return z(t)}}),ee(),v()}export{Le as component};
//# sourceMappingURL=4.Dx4EQFPk.js.map

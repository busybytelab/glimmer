import{t as v,a as o,c as Se}from"../chunks/Budn9l7p.js";import"../chunks/C5lklyGm.js";import{c as s,r,t as g,p as ve,s as n,g as e,a as ce,f as J,l as ge,b as E,m as W,al as pe,e as Me,n as ze,d as le,an as Ge}from"../chunks/Dy_2QLcd.js";import{s as w,e as xe}from"../chunks/HzhFnYKD.js";import{i as f}from"../chunks/CSRWkSd7.js";import{e as he,i as be}from"../chunks/KXxnkizF.js";import{s as $,r as Ke,b as We,p as fe,a as Xe}from"../chunks/NYO04WNS.js";import{i as ue}from"../chunks/Bd0QBR9D.js";import{s as Ze,a as $e}from"../chunks/CbMnyNtw.js";import{o as er}from"../chunks/CeJAMhHV.js";import{p as b}from"../chunks/DOVCkyMW.js";import{p as rr}from"../chunks/PWoLFK6J.js";import{g as Ce}from"../chunks/CBbAiqO3.js";import{B as tr,A as ar}from"../chunks/DNpMZtUs.js";var sr=v('<h4 class="text-md font-medium text-gray-900 mb-2"> </h4>');function we(j,i){let a=b(i,"index",8);var _=sr(),P=s(_);r(_),g(()=>w(P,`Question ${a()+1}`)),o(j,_)}var nr=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),ir=v('<input type="radio" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),or=v('<div class="flex items-center"><!> <label class="ml-3 text-gray-700"> </label></div>'),dr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),lr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),vr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),cr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),ur=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <div class="space-y-2"></div> <!> <!></div>');function mr(j,i){ve(i,!1);let a=b(i,"item",8),_=b(i,"index",8),P=b(i,"disabled",8,!1),T=b(i,"showAnswer",8,!1),l=b(i,"showInstructorInfo",8,!1),I=b(i,"onAnswerChange",8,void 0),U=b(i,"printMode",8,!1);function D(x){const y=x.target;I()&&I()(y.value)}ue();var M=ur(),Q=s(M);we(Q,{get index(){return _()}});var H=n(Q,2),V=s(H,!0);r(H);var Y=n(H,2);he(Y,5,()=>typeof a().options=="string"?JSON.parse(a().options):a().options,be,(x,y,m)=>{var h=or(),C=s(h);{var B=p=>{var t=nr();o(p,t)},R=p=>{var t=ir();Ke(t),g(()=>{$(t,"id",`question-${_()}-option-${m}-${a().id}`),$(t,"name",`question-${_()}-${a().id}`),We(t,e(y)),t.disabled=P()}),xe("change",t,D),o(p,t)};f(C,p=>{U()?p(B):p(R,!1)})}var d=n(C,2),c=s(d,!0);r(d),r(h),g(()=>{$(d,"for",U()?void 0:`question-${_()}-option-${m}-${a().id}`),w(c,e(y))}),o(x,h)}),r(Y);var L=n(Y,2);{var G=x=>{var y=dr(),m=n(s(y),2),h=s(m,!0);r(m),r(y),g(()=>w(h,a().user_answer||"Not answered")),o(x,y)};f(L,x=>{T()&&x(G)})}var z=n(L,2);{var N=x=>{var y=cr(),m=n(s(y),2),h=s(m,!0);r(m);var C=n(m,2);{var B=c=>{var p=lr(),t=n(J(p),2),u=s(t,!0);r(t),g(()=>w(u,a().explanation)),o(c,p)};f(C,c=>{a().explanation&&c(B)})}var R=n(C,2);{var d=c=>{var p=vr(),t=n(J(p),2),u=s(t,!0);r(t),g(()=>w(u,a().hints_used)),o(c,p)};f(R,c=>{a().hints_used&&c(d)})}r(y),g(()=>w(h,a().correct_answer)),o(x,y)};f(z,x=>{l()&&x(N)})}r(M),g(()=>w(V,a().question_text)),o(j,M),ce()}var _r=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),pr=v('<input type="radio" value="true" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),fr=v('<div class="w-4 h-4 border border-gray-400 rounded mr-2"></div>'),gr=v('<input type="radio" value="false" class="h-4 w-4 text-indigo-600 focus:ring-indigo-500">'),xr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),hr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),br=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),wr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),yr=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <div class="space-y-2"><div class="flex items-center"><!> <label class="ml-3 text-gray-700">True</label></div> <div class="flex items-center"><!> <label class="ml-3 text-gray-700">False</label></div></div> <!> <!></div>');function Ar(j,i){ve(i,!1);let a=b(i,"item",8),_=b(i,"index",8),P=b(i,"disabled",8,!1),T=b(i,"showAnswer",8,!1),l=b(i,"showInstructorInfo",8,!1),I=b(i,"onAnswerChange",8,void 0),U=b(i,"printMode",8,!1);function D(t){const u=t.target;I()&&I()(u.value)}ue();var M=yr(),Q=s(M);we(Q,{get index(){return _()}});var H=n(Q,2),V=s(H,!0);r(H);var Y=n(H,2),L=s(Y),G=s(L);{var z=t=>{var u=_r();o(t,u)},N=t=>{var u=pr();g(()=>{$(u,"id",`question-${_()}-true-${a().id}`),$(u,"name",`question-${_()}-${a().id}`),u.disabled=P()}),xe("change",u,D),o(t,u)};f(G,t=>{U()?t(z):t(N,!1)})}var x=n(G,2);r(L);var y=n(L,2),m=s(y);{var h=t=>{var u=fr();o(t,u)},C=t=>{var u=gr();g(()=>{$(u,"id",`question-${_()}-false-${a().id}`),$(u,"name",`question-${_()}-${a().id}`),u.disabled=P()}),xe("change",u,D),o(t,u)};f(m,t=>{U()?t(h):t(C,!1)})}var B=n(m,2);r(y),r(Y);var R=n(Y,2);{var d=t=>{var u=xr(),S=n(s(u),2),X=s(S,!0);r(S),r(u),g(()=>w(X,a().user_answer||"Not answered")),o(t,u)};f(R,t=>{T()&&t(d)})}var c=n(R,2);{var p=t=>{var u=wr(),S=n(s(u),2),X=s(S,!0);r(S);var ne=n(S,2);{var me=Z=>{var k=hr(),A=n(J(k),2),O=s(A,!0);r(A),g(()=>w(O,a().explanation)),o(Z,k)};f(ne,Z=>{a().explanation&&Z(me)})}var ee=n(ne,2);{var te=Z=>{var k=br(),A=n(J(k),2),O=s(A,!0);r(A),g(()=>w(O,a().hints_used)),o(Z,k)};f(ee,Z=>{a().hints_used&&Z(te)})}r(u),g(()=>w(X,a().correct_answer)),o(t,u)};f(c,t=>{l()&&t(p)})}r(M),g(()=>{w(V,a().question_text),$(x,"for",U()?void 0:`question-${_()}-true-${a().id}`),$(B,"for",U()?void 0:`question-${_()}-false-${a().id}`)}),o(j,M),ce()}var Ir=v('<div class="h-32 border border-gray-300 rounded-md"></div>'),Cr=v('<textarea class="w-full h-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Type your answer here..."></textarea>'),qr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),Sr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),Mr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),Er=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),kr=v('<div class="border border-gray-200 rounded-lg p-4"><!> <p class="text-gray-600 mb-4"> </p> <!> <!> <!></div>');function Fr(j,i){ve(i,!1);let a=b(i,"item",8),_=b(i,"index",8),P=b(i,"disabled",8,!1),T=b(i,"showAnswer",8,!1),l=b(i,"showInstructorInfo",8,!1),I=b(i,"onAnswerChange",8,void 0),U=b(i,"printMode",8,!1);function D(m){const h=m.target;I()&&I()(h.value)}ue();var M=kr(),Q=s(M);we(Q,{get index(){return _()}});var H=n(Q,2),V=s(H,!0);r(H);var Y=n(H,2);{var L=m=>{var h=Ir();o(m,h)},G=m=>{var h=Cr();g(()=>{$(h,"id",`question-${_()}-${a().id}`),h.disabled=P()}),xe("input",h,D),o(m,h)};f(Y,m=>{U()?m(L):m(G,!1)})}var z=n(Y,2);{var N=m=>{var h=qr(),C=n(s(h),2),B=s(C,!0);r(C),r(h),g(()=>w(B,a().user_answer||"Not answered")),o(m,h)};f(z,m=>{T()&&m(N)})}var x=n(z,2);{var y=m=>{var h=Er(),C=n(s(h),2),B=s(C,!0);r(C);var R=n(C,2);{var d=t=>{var u=Sr(),S=n(J(u),2),X=s(S,!0);r(S),g(()=>w(X,a().explanation)),o(t,u)};f(R,t=>{a().explanation&&t(d)})}var c=n(R,2);{var p=t=>{var u=Mr(),S=n(J(u),2),X=s(S,!0);r(S),g(()=>w(X,a().hints_used)),o(t,u)};f(c,t=>{a().hints_used&&t(p)})}r(h),g(()=>w(B,a().correct_answer)),o(m,h)};f(x,m=>{l()&&m(y)})}r(M),g(()=>w(V,a().question_text)),o(j,M),ce()}var Tr=v('<div class="inline-block w-32 border-b border-gray-400 mx-1"></div>'),Ur=v('<input type="text" class="inline-block w-32 px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">'),Dr=v(" <!>",1),Nr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Your Answer:</h5> <p class="text-gray-600"> </p></div>'),Pr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Explanation:</h5> <p class="text-gray-600"> </p>',1),Qr=v('<h5 class="text-sm font-medium text-gray-900 mt-2 mb-2">Hints Used:</h5> <p class="text-gray-600"> </p>',1),Hr=v('<div class="mt-4 p-4 bg-gray-50 rounded-md"><h5 class="text-sm font-medium text-gray-900 mb-2">Correct Answer:</h5> <p class="text-gray-600"> </p> <!> <!></div>'),Lr=v('<div class="border border-gray-200 rounded-lg p-4"><!> <div class="text-gray-600 mb-4"></div> <!> <!></div>');function Rr(j,i){ve(i,!1);const a=W();let _=b(i,"item",8),P=b(i,"index",8),T=b(i,"disabled",8,!1),l=b(i,"showAnswer",8,!1),I=b(i,"showInstructorInfo",8,!1),U=b(i,"onAnswerChange",8,void 0),D=b(i,"printMode",8,!1);function M(N){const x=N.target;U()&&U()(x.value)}ge(()=>pe(_()),()=>{E(a,_().question_text.split("_____"))}),Me(),ue();var Q=Lr(),H=s(Q);we(H,{get index(){return P()}});var V=n(H,2);he(V,5,()=>e(a),be,(N,x,y)=>{ze();var m=Dr(),h=J(m),C=n(h);{var B=R=>{var d=Se(),c=J(d);{var p=u=>{var S=Tr();o(u,S)},t=u=>{var S=Ur();g(()=>{$(S,"id",`question-${P()}-blank-${y}-${_().id}`),S.disabled=T()}),xe("input",S,M),o(u,S)};f(c,u=>{D()?u(p):u(t,!1)})}o(R,d)};f(C,R=>{y<e(a).length-1&&R(B)})}g(()=>w(h,`${e(x)??""} `)),o(N,m)}),r(V);var Y=n(V,2);{var L=N=>{var x=Nr(),y=n(s(x),2),m=s(y,!0);r(y),r(x),g(()=>w(m,_().user_answer||"Not answered")),o(N,x)};f(Y,N=>{l()&&N(L)})}var G=n(Y,2);{var z=N=>{var x=Hr(),y=n(s(x),2),m=s(y,!0);r(y);var h=n(y,2);{var C=d=>{var c=Pr(),p=n(J(c),2),t=s(p,!0);r(p),g(()=>w(t,_().explanation)),o(d,c)};f(h,d=>{_().explanation&&d(C)})}var B=n(h,2);{var R=d=>{var c=Qr(),p=n(J(c),2),t=s(p,!0);r(p),g(()=>w(t,_().hints_used)),o(d,c)};f(B,d=>{_().hints_used&&d(R)})}r(x),g(()=>w(m,_().correct_answer)),o(N,x)};f(G,N=>{I()&&N(z)})}r(Q),o(j,Q),ce()}var Yr=v('<div class="border border-red-200 rounded-lg p-4 bg-red-50"><p class="text-red-600"> </p></div>');function Ue(j,i){ve(i,!1);const a=W(),_=W(),P=W();let T=b(i,"item",8),l=b(i,"index",8),I=b(i,"viewType",8,"learner"),U=b(i,"disabled",8,!1),D=b(i,"onAnswerChange",8,void 0),M=b(i,"printMode",8,!1);ge(()=>pe(I()),()=>{E(a,I()==="answered"||I()==="instructor")}),ge(()=>pe(I()),()=>{E(_,I()==="instructor")}),ge(()=>(pe(U()),pe(I())),()=>{E(P,U()||I()!=="learner")}),Me(),ue();var Q=Se(),H=J(Q);{var V=L=>{mr(L,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return M()}})},Y=(L,G)=>{{var z=x=>{Ar(x,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return M()}})},N=(x,y)=>{{var m=C=>{Fr(C,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return M()}})},h=(C,B)=>{{var R=c=>{Rr(c,{get item(){return T()},get index(){return l()},get disabled(){return e(P)},get showAnswer(){return e(a)},get showInstructorInfo(){return e(_)},get onAnswerChange(){return D()},get printMode(){return M()}})},d=c=>{var p=Yr(),t=s(p),u=s(t);r(t),r(p),g(()=>w(u,`Unsupported question type: ${T().question_type??""}, id: ${T().id??""}`)),o(c,p)};f(C,c=>{T().question_type==="fill_in_blank"?c(R):c(d,!1)},B)}};f(x,C=>{T().question_type==="short_answer"?C(m):C(h,!1)},y)}};f(L,x=>{T().question_type==="true_false"?x(z):x(N,!1)},G)}};f(H,L=>{T().question_type==="multiple_choice"?L(V):L(Y,!1)})}o(j,Q),ce()}class Br{async ensureAuth(){if(!fe.authStore.isValid)throw new Error("You must be logged in to access practice sessions")}async loadSession(i){try{await this.ensureAuth();const a=await fe.collection("practice_sessions").getOne(i,{expand:"learner,learner.user,practice_topic,practice_items",fields:"id,name,status,assigned_at,completed_at,generation_prompt,learner,practice_topic,practice_items,expand"});if(!a)throw new Error("Session not found");return a}catch(a){throw console.error("Failed to load session:",a),a instanceof Error?a:new Error("Failed to load practice session")}}async checkUserRole(){await this.ensureAuth();try{const i=fe.authStore.model;if(!i)throw new Error("User not authenticated");try{return!!await fe.collection("instructors").getFirstListItem(`user="${i.id}"`)}catch{return!1}}catch(i){return console.error("Failed to check user role:",i),!1}}parsePracticeItems(i){var a;if((a=i.expand)!=null&&a.practice_items)return i.expand.practice_items;if(i.practice_items)try{return JSON.parse(i.practice_items)}catch(_){return console.error("Error parsing practice items:",_),[]}return[]}}const qe=new Br;var Or=v('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div></div>'),jr=v('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline"> </span></div>'),Jr=v('<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded"> </span>'),Vr=v('<span class="bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded"> </span>'),zr=v('<div class="mb-4"><h3 class="text-sm font-medium text-gray-700 mb-2">Learner:</h3> <p class="text-gray-600"> </p></div>'),Gr=v('<div class="mb-4"><h3 class="text-sm font-medium text-gray-700 mb-2">Topic:</h3> <p class="text-gray-600"> </p></div>'),Kr=v('<div class="question-container svelte-6swr63"><!></div>'),Wr=v('<div class="mt-6"><h3 class="text-lg font-medium text-gray-900 mb-4">Practice Items</h3> <div class="space-y-6"></div></div>'),Xr=v('<div class="bg-gray-50 border border-gray-200 p-4 rounded-md"><p class="text-gray-600">No practice items available.</p></div>'),Zr=v('<div class="bg-white shadow-md rounded-lg p-6 mb-6"><h2 class="text-xl font-semibold text-gray-900 mb-2"> </h2> <div class="flex flex-wrap gap-2 mb-4"><span> </span> <!> <!></div> <!> <!> <!></div>'),$r=v('<div class="container mx-auto px-4 py-8 no-print"><div class="flex justify-between items-center mb-6"><div><!></div> <!></div> <!></div>'),et=v('<h2 class="text-xl mb-1"> </h2>'),rt=v('<p class="text-lg"> </p>'),tt=v('<div class="print-item question-container svelte-6swr63"><!></div>'),at=v("<p>No practice items available.</p>"),st=v('<div class="print-header svelte-6swr63"><h1 class="text-3xl font-bold mb-2"> </h1> <!> <!></div> <!>',1),nt=v('<!> <div class="print-only print-container"><!></div>',1);function bt(j,i){ve(i,!1);const[a,_]=Ze(),P=()=>$e(rr,"$page",a),T=W();let l=W(null),I=W([]),U=W(!0),D=W(null),M=W(!1),Q=W(!1),H=W([]);er(async()=>{try{const d=P().params.id;d?(await Y(d),await V(),x()):(E(D,"Invalid session ID"),E(U,!1))}catch(d){console.error("Error in onMount:",d),E(D,d instanceof Error?d.message:"An unexpected error occurred"),E(U,!1)}});async function V(){try{E(M,await qe.checkUserRole())}catch(d){console.error("Failed to check user role:",d),E(M,!1)}}async function Y(d){try{if(E(U,!0),E(D,null),!d)throw new Error("Session ID is required");if(E(l,await qe.loadSession(d)),!e(l))throw new Error("Session not found");E(I,qe.parsePracticeItems(e(l)))}catch(c){console.error("Failed to load session:",c),E(D,c instanceof Error?c.message:"Failed to load practice session"),E(l,null),E(I,[])}finally{E(U,!1)}}function L(){e(l)&&Ce(`/practice-sessions/edit/${e(l).id}`)}async function G(){var d;if(e(l)&&confirm("Are you sure you want to delete this practice session?"))try{await fe.collection("practice_sessions").delete(e(l).id),(d=e(l).expand)!=null&&d.practice_topic?Ce(`/practice-topics/${e(l).expand.practice_topic.id}`):Ce("/dashboard")}catch(c){console.error("Failed to delete practice session:",c),E(D,"Failed to delete practice session: "+(c instanceof Error?c.message:String(c)))}}function z(d,c){e(I)[d]&&Ge(I,e(I)[d].user_answer=c)}function N(){E(Q,!0),setTimeout(()=>{window.print(),setTimeout(()=>{E(Q,!1)},500)},200)}function x(){var p;if(!e(l))return;const d=[{label:"Topics",href:"/practice-topics",icon:"topic"}];(p=e(l).expand)!=null&&p.practice_topic&&d.push({label:e(l).expand.practice_topic.name,href:`/practice-topics/${e(l).expand.practice_topic.id}`,icon:"topic"});const c=e(l).name||"Practice Session";d.push({label:c,icon:"session"}),E(H,d)}ge(()=>{},()=>{E(T,[{id:"print",label:"Print",icon:"print",variant:"primary",onClick:N},{id:"edit",label:"Edit",icon:"edit",variant:"secondary",onClick:L},{id:"delete",label:"Delete",icon:"delete",variant:"danger",onClick:G}])}),Me(),ue();var y=nt(),m=J(y);{var h=d=>{var c=$r(),p=s(c),t=s(p),u=s(t);tr(u,{get items(){return e(H)}}),r(t);var S=n(t,2);ar(S,{get actions(){return e(T)}}),r(p);var X=n(p,2);{var ne=ee=>{var te=Or();o(ee,te)},me=(ee,te)=>{{var Z=A=>{var O=jr(),ie=n(s(O),2),ae=s(ie,!0);r(ie),r(O),g(()=>w(ae,e(D))),o(A,O)},k=(A,O)=>{{var ie=ae=>{var oe=Zr(),se=s(oe),ye=s(se,!0);r(se);var _e=n(se,2),de=s(_e),Ae=s(de,!0);r(de);var Ee=n(de,2);{var De=F=>{var q=Jr(),K=s(q);r(q),g(re=>w(K,`Assigned: ${re??""}`),[()=>new Date(e(l).assigned_at).toLocaleDateString()],le),o(F,q)};f(Ee,F=>{e(l).assigned_at&&F(De)})}var Ne=n(Ee,2);{var Pe=F=>{var q=Vr(),K=s(q);r(q),g(re=>w(K,`Completed: ${re??""}`),[()=>new Date(e(l).completed_at).toLocaleDateString()],le),o(F,q)};f(Ne,F=>{e(l).completed_at&&F(Pe)})}r(_e);var ke=n(_e,2);{var Qe=F=>{var q=zr(),K=n(s(q),2),re=s(K,!0);r(K),r(q),g(()=>w(re,e(l).expand.learner.name)),o(F,q)};f(ke,F=>{var q;(q=e(l).expand)!=null&&q.learner&&F(Qe)})}var Fe=n(ke,2);{var He=F=>{var q=Gr(),K=n(s(q),2),re=s(K,!0);r(K),r(q),g(()=>w(re,e(l).expand.practice_topic.name)),o(F,q)};f(Fe,F=>{var q;(q=e(l).expand)!=null&&q.practice_topic&&F(He)})}var Le=n(Fe,2);{var Re=F=>{var q=Wr(),K=n(s(q),2);he(K,5,()=>e(I),be,(re,Be,Te)=>{var Ie=Kr(),Oe=s(Ie);const je=le(()=>e(l).status==="Completed"?e(M)?"instructor":"answered":"learner"),Je=le(()=>e(l).status==="Completed");Ue(Oe,{get item(){return e(Be)},index:Te,get viewType(){return e(je)},get disabled(){return e(Je)},onAnswerChange:Ve=>z(Te,Ve)}),r(Ie),o(re,Ie)}),r(K),r(q),o(F,q)},Ye=F=>{var q=Xr();o(F,q)};f(Le,F=>{e(I).length>0?F(Re):F(Ye,!1)})}r(oe),g(()=>{w(ye,e(l).name||"Unnamed Practice"),Xe(de,1,`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        ${e(l).status==="Completed"?"bg-green-100 text-green-800":e(l).status==="InProgress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,"svelte-6swr63"),w(Ae,e(l).status)}),o(ae,oe)};f(A,ae=>{e(l)&&ae(ie)},O)}};f(ee,A=>{e(D)?A(Z):A(k,!1)},te)}};f(X,ee=>{e(U)?ee(ne):ee(me,!1)})}r(c),o(d,c)};f(m,d=>{e(Q)||d(h)})}var C=n(m,2),B=s(C);{var R=d=>{var c=st(),p=J(c),t=s(p),u=s(t,!0);r(t);var S=n(t,2);{var X=k=>{var A=et(),O=s(A);r(A),g(()=>w(O,`Topic: ${e(l).expand.practice_topic.name??""}`)),o(k,A)};f(S,k=>{var A;(A=e(l).expand)!=null&&A.practice_topic&&k(X)})}var ne=n(S,2);{var me=k=>{var A=rt(),O=s(A);r(A),g(()=>w(O,`Learner: ${e(l).expand.learner.name??""}`)),o(k,A)};f(ne,k=>{var A;(A=e(l).expand)!=null&&A.learner&&k(me)})}r(p);var ee=n(p,2);{var te=k=>{var A=Se(),O=J(A);he(O,1,()=>e(I),be,(ie,ae,oe)=>{var se=tt(),ye=s(se);const _e=le(()=>e(l).status==="Completed"?e(M)?"instructor":"answered":"learner"),de=le(()=>e(l).status==="Completed");Ue(ye,{get item(){return e(ae)},index:oe,printMode:!0,get viewType(){return e(_e)},get disabled(){return e(de)},onAnswerChange:Ae=>z(oe,Ae)}),r(se),o(ie,se)}),o(k,A)},Z=k=>{var A=at();o(k,A)};f(ee,k=>{e(I).length>0?k(te):k(Z,!1)})}g(()=>w(u,e(l).name||"Practice Session")),o(d,c)};f(B,d=>{e(l)&&d(R)})}r(C),o(j,y),ce(),_()}export{bt as component};
//# sourceMappingURL=9.CYQqu-TR.js.map

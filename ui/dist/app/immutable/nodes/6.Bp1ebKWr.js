import{t as v,a as l,b as de}from"../chunks/Budn9l7p.js";import"../chunks/C5lklyGm.js";import{p as le,a as ve,s as o,g as r,m as q,c as a,b as c,n as pe,r as e,t as b,d as ce}from"../chunks/Dy_2QLcd.js";import{s as m}from"../chunks/HzhFnYKD.js";import{i as y}from"../chunks/CSRWkSd7.js";import{e as me,i as fe}from"../chunks/KXxnkizF.js";import{p as ue,s as z}from"../chunks/NYO04WNS.js";import{i as _e}from"../chunks/Bd0QBR9D.js";import{s as ge,a as xe}from"../chunks/CbMnyNtw.js";import{o as be}from"../chunks/CeJAMhHV.js";import{p as ye}from"../chunks/PWoLFK6J.js";import{g as he}from"../chunks/CBbAiqO3.js";import{F as we}from"../chunks/CFzjnv0N.js";var $e=v('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"></div></div>'),ke=v('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert"><strong class="font-bold">Error!</strong> <span class="block sm:inline"> </span></div>'),Le=v('<img class="w-16 h-16 rounded-full">'),Fe=v('<div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center"><span class="text-2xl text-gray-500"> </span></div>'),je=v('<span class="bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded"> </span>'),Pe=v('<div class="mb-6"><div class="text-sm font-semibold text-gray-700 mb-2">Learning Preferences:</div> <div class="flex flex-wrap gap-2"></div></div>'),Ee=v('<div class="bg-white shadow-md rounded-lg p-6"><div class="flex items-center space-x-4 mb-6"><!> <div><h2 class="text-xl font-semibold text-gray-900"> </h2> <p class="text-gray-600"> </p></div></div> <div class="grid grid-cols-2 gap-4 mb-6"><div class="bg-gray-50 p-3 rounded"><div class="text-sm font-semibold text-gray-700 mb-1">Age:</div> <div> </div></div> <div class="bg-gray-50 p-3 rounded"><div class="text-sm font-semibold text-gray-700 mb-1">Grade Level:</div> <div> </div></div></div> <!></div>'),Ie=v('<div class="container mx-auto px-4 py-8"><div class="flex justify-between items-center mb-6"><h1 class="text-2xl font-bold text-gray-900">Learner Profile</h1> <!></div> <!></div>');function Ke(D,H){le(H,!1);const[J,K]=ge(),Q=()=>xe(ye,"$page",J);let t=q(null),h=q(!0),u=q(null);be(async()=>{const s=Q().params.id;if(!s){c(u,"No learner ID provided"),c(h,!1);return}await R(s)});async function R(s){try{c(h,!0),c(u,null);const d=await ue.collection("learners").getOne(s,{expand:"user"}),p=d.expand;c(t,{...d,user:(p==null?void 0:p.user)||{name:"Unknown user"}})}catch(d){console.error("Failed to load learner:",d),c(u,"Failed to load learner")}finally{c(h,!1)}}function S(){r(t)&&he(`/learners/edit/${r(t).id}`)}_e();var $=Ie(),k=a($),T=o(a(k),2);we(T,{type:"button",variant:"primary",$$events:{click:S},children:(s,d)=>{pe();var p=de("Edit Learner");l(s,p)},$$slots:{default:!0}}),e(k);var V=o(k,2);{var W=s=>{var d=$e();l(s,d)},X=(s,d)=>{{var p=f=>{var _=ke(),w=o(a(_),2),g=a(w,!0);e(w),e(_),b(()=>m(g,r(u))),l(f,_)},Y=(f,_)=>{{var w=g=>{var L=Ee(),F=a(L),A=a(F);{var Z=n=>{var i=Le();b(()=>{z(i,"src",r(t).avatar),z(i,"alt",r(t).nickname)}),l(n,i)},ee=n=>{var i=Fe(),x=a(i),I=a(x,!0);e(x),e(i),b(N=>m(I,N),[()=>r(t).nickname[0].toUpperCase()],ce),l(n,i)};y(A,n=>{r(t).avatar?n(Z):n(ee,!1)})}var B=o(A,2),j=a(B),re=a(j,!0);e(j);var C=o(j,2),ae=a(C,!0);e(C),e(B),e(F);var P=o(F,2),E=a(P),G=o(a(E),2),te=a(G,!0);e(G),e(E);var M=o(E,2),O=o(a(M),2),se=a(O,!0);e(O),e(M),e(P);var ie=o(P,2);{var oe=n=>{var i=Pe(),x=o(a(i),2);me(x,5,()=>r(t).learning_preferences,fe,(I,N)=>{var U=je(),ne=a(U,!0);e(U),b(()=>m(ne,r(N))),l(I,U)}),e(x),e(i),l(n,i)};y(ie,n=>{r(t).learning_preferences&&r(t).learning_preferences.length>0&&n(oe)})}e(L),b(()=>{m(re,r(t).nickname),m(ae,r(t).user.name),m(te,r(t).age),m(se,r(t).grade_level||"Not specified")}),l(g,L)};y(f,g=>{r(t)&&g(w)},_)}};y(s,f=>{r(u)?f(p):f(Y,!1)},d)}};y(V,s=>{r(h)?s(W):s(X,!1)})}e($),l(D,$),ve(),K()}export{Ke as component};
//# sourceMappingURL=6.Bp1ebKWr.js.map
